<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>SQL server 2005 18452 错误 | Struggle</title>
  <meta name="author" content="walker">

  
  <meta name="description" content="决定把数据库装到自己机子上，可是非常不顺利，要选用SQL身份方式登陆，一番配置完成后，非常爽快地提示我连接不成功，一看错误代码，18452，于是又开始漫长的求解过程。。。中文网络遍地不负责任的转贴让我很不爽，以下是被转贴最多的一种方式：
==============无法连接到服务器&nbsp;&amp;nb">
  
  

  <link rel="alternate" href="/atom.xml" title="Struggle" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
</head>

<body>
  <header id="header" class="inner"><nav>
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
</nav></header>
  <div id="content" class="inner"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <header>
    
  
    <h1 class="title">SQL server 2005 18452 错误</h1>
  

    <time datetime="2009-03-06T16:00:00.000Z">
  <span class="day">7</span><span class="month">Mar</span>
</time>
  </header>
  <div class="entry-content">
    
      <p><p>决定把数据库装到自己机子上，可是非常不顺利，要选用SQL身份方式登陆，一番配置完成后，非常爽快地提示我连接不成功，一看错误代码，18452，于是又开始漫长的求解过程。。。中文网络遍地不负责任的转贴让我很不爽，以下是被转贴最多的一种方式：</p>
<p>==============<br />无法连接到服务器&nbsp;&nbsp; <br />服务器：消息18452，&nbsp;&nbsp;&nbsp;&nbsp; 级别16，状态1&nbsp;&nbsp; <br />[Microsoft][ODBC&nbsp;&nbsp;&nbsp;&nbsp; SQL&nbsp;&nbsp;&nbsp;&nbsp; Server&nbsp;&nbsp;&nbsp;&nbsp; Driver][SQL&nbsp;&nbsp;&nbsp;&nbsp; Server]用户‘sa’登陆失败。原因：未与信任SQL&nbsp;&nbsp;&nbsp;&nbsp; Server连接相关联&nbsp;&nbsp;&nbsp; <br />该错误产生的原因是由于SQL&nbsp;&nbsp;&nbsp;&nbsp; Server使用了&quot;仅&nbsp;&nbsp;&nbsp;&nbsp; Windows&quot;的身份验证方式，因此用户无法使用SQL&nbsp;&nbsp;&nbsp;&nbsp; Server的登录帐户（例如&nbsp;&nbsp;&nbsp;&nbsp; sa )进行连接，解决方法如下&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; <br />设置允许SQL&nbsp;&nbsp;&nbsp;&nbsp; Server身份登录&nbsp;&nbsp;&nbsp;&nbsp; (基本上这个很有用)<br />&nbsp;&nbsp;&nbsp; 操作步骤：<br />&nbsp;&nbsp;&nbsp; 1。在企业管理器中，展开&quot;SQL&nbsp;&nbsp;&nbsp;&nbsp; Server组&quot;，鼠标右键点击SQL&nbsp;&nbsp;&nbsp;&nbsp; Server服务器的名称&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; 2。选择&quot;属性&quot;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; 3。再选择&quot;安全性&quot;选项卡&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; 4。在&quot;身份验证&quot;下，选择&quot;SQL&nbsp;&nbsp;&nbsp;&nbsp; Server和&nbsp;&nbsp;&nbsp;&nbsp; Windows&quot;<br />&nbsp;&nbsp;&nbsp; 5。确定,并重新启动SQL&nbsp;&nbsp;&nbsp;&nbsp; Server服务。 <br />===============</p>
<p>简单明了的五步，但是我在我的SQL server 2005怎么也找不到什么是“企业管理器”，更别谈什么“SQL sever&quot;组了，翻了几十个网页，最终放弃了这种方式。<br />究其原因，来自微软的官方解释：<br />How to set up Mixed Mode security (Enterprise Manager)<br />New Information - SQL Server 2000 SP3.</p>
<p>Security Note&nbsp; When possible, use Windows Authentication.<br />To set up Mixed Mode security </p>
<p>Expand a server group.<br />Right-click a server, and then click Properties.<br />Click the Security tab.<br />Under Authentication, click SQL Server and Windows.<br />Under Audit level, select the level at which user accesses to Microsoft® SQL Server™ are recorded in the SQL Server error log:<br /><br />这下明白了吧，原来是SQL server 2000 SP3的，那么多网页挂上2005的名头~~~</p>
<p>继续查找，什么TCP/IP,namepipe方法全出来了，就没一个靠谱的，外围配置管理器打开remote control和broswer服务也没用，半天的试验，才发现SQL2005 managment studio里面直接可以解决：</p>
<p>·更改安全身份验证模式 </p>
<p>在 SQL Server Management Studio 的对象资源管理器中，右键单击服务器，再单击“属性”。<br />在“安全性”页上的“服务器身份验证”下，选择新的服务器身份验证模式，再单击“确定”。<br />在 SQL Server Management Studio 对话框中，单击“确定”以确认需要重新启动 SQL Server。<br />从 SQL Server Management Studio 重新启动 SQL Server <br />在对象资源管理器中，右键单击您的服务器，再单击“重新启动”。如果运行有 SQL Server 代理，则也必须重新启动该代理。</p>
<p>·使用 Transact-SQL 启用 sa 登录帐户 （就是在studio里面点“新建查询”）<br />执行下列语句以启用 sa 密码并分配一个密码</p>
<p>ALTER LOGIN sa ENABLE ;<br />GO<br />ALTER LOGIN sa WITH PASSWORD = &#39;password&#39; ;（引号不要去掉，用自己的密码换掉password） <br />GO</p>
<p>·使用 Management Studio 启用 sa 登录帐户 </p>
<p>在对象资源管理器中，依次展开“安全”、“登录名”，右键单击“sa”，再单击“属性”。<br />在“常规”页上，您可能需要为 sa 登录名创建密码并确认该密码。<br />在“状态”页的“登录”部分中，单击“启用”，然后单击“确定”。</p>
<p>基本上可以搞定，我自己建了一个帐户，却没有建表格的权限，最后还是用回了sa。</p>
<p>归根结底，18452错误就是当初安装SQL server的时候没有选windows和SQL双重身份登陆的选项，找到能修改的地方基本就能搞定了。<br />顺便分享一下找到的18456错误，基本上就是三个原因：你用户名错了；你密码错了，你用户名和密码都错了。总结得很酷</p></p>

    
    
    <footer class="meta">
      
      
      
    </footer>
    
  </div>
  
<section id="comment">
  <div id="disqus_thread" aria-live="polite">
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</article></div>
  <footer id="footer" class="inner"><div class="social alignright">
  
  
  
  
  <a class="rss" href="/atom.xml" title="RSS">RSS</a>
</div>
<p>
  
  &copy; 2014 walker
  
</p>
<div class="clearfix"></div></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'walkerwzy';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<div id="phasebeam">
  <canvas></canvas>
  <canvas></canvas>
  <canvas></canvas>
</div>
<script src="/js/phasebeam.js"></script>
</body>
</html>